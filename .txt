Sure! I'll provide the updates to `app.js` and the necessary route files to incorporate the new features. This includes adding routes for the updated HTML pages, handling product calculations, live notifications, messaging, and payment gateways.

### Updated `app.js`

```javascript

```

### Updated `routes/index.js`

```javascript

```

### Updated `routes/user.js`

```javascript

```

### Updated `routes/payment.js`

```javascript

```

### Example of Live Notification and Messaging Integration in `public/js/user_dashboard.js`

```javascript

```

### Example Payment Gateway Integration in `public/js/payment.js`

```javascript
document.getElementById('confirmPaymentBtn').addEventListener('click', () => {
  const paymentMethod = document.getElementById('paymentMethod').value;
  const productId = document.getElementById('productId').value;
  const quantity = document.getElementById('quantity').value;
  const totalAmount = document.getElementById('totalAmount').value;

  fetch('/payment/confirm', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
    },
    body: JSON.stringify({
      userId: 'currentUserId',
      products: [{ productId, quantity }],
      totalAmount,
      paymentMethod,
    }),
  })
  .then(response => response.json())
  .then(data => {
    if (data.success) {
      alert(data.message);
      window.location.href = '/receipt';
    } else {
      alert('Payment failed, please try again.');
    }
  });
});
```

### HTML Updates

#### Updated `payment.html`

```html

```

#### Updated `receipt

.html`

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Receipt</title>
  <link rel="stylesheet" href="assets/css/styles.css">
</head>
<body>
  <header>
    <h1>Oladayo Enterprises Receipt</h1>
  </header>
  <main>
    <table>
      <thead>
        <tr>
          <th>Product Name</th>
          <th>Tracking ID</th>
          <th>Product Number</th>
          <th>Quantity</th>
          <th>Size</th>
          <th>Price</th>
        </tr>
      </thead>
      <tbody id="receiptBody">
        <!-- Receipt items will be populated here -->
      </tbody>
    </table>
    <button type="button" id="printReceiptBtn">Print</button>
  </main>
  <footer>
    <p>&copy; 2024 Oladayo Enterprises</p>
  </footer>
  <script>
    document.getElementById('printReceiptBtn').addEventListener('click', () => {
      window.print();
    });
  </script>
</body>
</html>
```

This should cover the new features and updates requested while maintaining the existing structure and functionality.